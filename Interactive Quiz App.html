<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz App</title>
    <!-- Load Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1f2937; /* Dark background */
        }
        .quiz-container {
            max-width: 768px;
        }
        .option-label {
            transition: all 0.1s ease-in-out;
            cursor: pointer;
        }
        .option-label:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        /* Style for checked radio button labels */
        input[type="radio"]:checked + .option-label {
            background-color: #3b82f6; /* Blue 500 */
            color: white;
            border-color: #2563eb; /* Blue 600 */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quizApp" class="quiz-container w-full bg-white p-6 md:p-10 rounded-xl shadow-2xl transition-all duration-300">
        <!-- Quiz Header -->
        <header class="mb-6 border-b pb-4">
            <h1 class="text-3xl font-bold text-gray-800">The Ultimate Dev Quiz</h1>
            <p id="progress" class="text-sm text-gray-500 mt-1">Question 1 of 5</p>
        </header>

        <!-- Question Area -->
        <div id="quizContent">
            <h2 id="questionText" class="text-xl font-semibold mb-6 text-gray-700"></h2>

            <!-- Options Container -->
            <div id="optionsContainer" class="space-y-4 mb-8">
                <!-- Options will be injected here by JavaScript -->
            </div>

            <!-- Navigation and Message Area -->
            <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
                <div id="messageBox" class="text-sm font-medium text-red-600 h-6"></div>
                <button id="nextButton" onclick="handleNext()" disabled class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed">
                    Next Question
                </button>
            </div>
        </div>

        <!-- Score/Results Area (Hidden initially) -->
        <div id="results" class="hidden text-center py-10">
            <h2 class="text-4xl font-bold text-blue-600 mb-4">Quiz Complete!</h2>
            <p class="text-xl text-gray-700 mb-8">Your final score is:</p>
            <p id="finalScore" class="text-6xl font-extrabold text-blue-800 mb-10"></p>
            <button onclick="resetQuiz()" class="px-8 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 transition duration-150">
                Start Over
            </button>
        </div>

    </div>

    <script>
        // --- 1. Quiz Data and State ---
        
        // Define the quiz questions
        const originalQuestions = [
            {
                question: "What is the primary function of the JavaScript 'map()' method?",
                options: ["Execute a function on every item and return a new array.", "Filter an array based on a condition.", "Check if at least one element satisfies a condition.", "Sort the elements of an array."],
                answer: "Execute a function on every item and return a new array."
            },
            {
                question: "Which HTML tag is used to define the structure of a table?",
                options: ["<data>", "<table>", "<list>", "<grid>"],
                answer: "<table>"
            },
            {
                question: "In CSS, what property is used to change the background color of an element?",
                options: ["color", "font-color", "background-color", "bgcolor"],
                answer: "background-color"
            },
            {
                question: "Which of the following is NOT a JavaScript data type?",
                options: ["Boolean", "String", "Float", "Symbol"],
                answer: "Float" // In JS, it's Number, which includes floats/integers
            },
            {
                question: "What does the 'npm' acronym stand for?",
                options: ["Node Package Manager", "New Project Module", "Network Protocol Management", "Native Performance Monitor"],
                answer: "Node Package Manager"
            }
        ];

        let shuffledQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let userSelection = null;

        // DOM elements
        const questionTextEl = document.getElementById('questionText');
        const optionsContainerEl = document.getElementById('optionsContainer');
        const nextButton = document.getElementById('nextButton');
        const progressEl = document.getElementById('progress');
        const quizContentEl = document.getElementById('quizContent');
        const resultsEl = document.getElementById('results');
        const finalScoreEl = document.getElementById('finalScore');
        const messageBoxEl = document.getElementById('messageBox');


        // Utility function to shuffle an array (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- 2. Core Logic Functions ---

        /**
         * Loads and displays the current question and its options.
         */
        function loadQuestion() {
            const currentQ = shuffledQuestions[currentQuestionIndex];
            
            // Update progress text
            progressEl.textContent = `Question ${currentQuestionIndex + 1} of ${shuffledQuestions.length}`;
            
            // Set question text
            questionTextEl.textContent = currentQ.question;
            
            // Clear previous options
            optionsContainerEl.innerHTML = '';
            userSelection = null;
            nextButton.disabled = true;
            nextButton.textContent = 'Next Question';
            messageBoxEl.textContent = ''; // Clear any previous error/message

            // Create and display options (radio buttons)
            currentQ.options.forEach((option, index) => {
                const optionId = `option-${index}`;
                
                // 1. Create the option container (div)
                const div = document.createElement('div');
                div.className = 'flex items-center';

                // 2. Create the radio input
                const radioInput = document.createElement('input');
                radioInput.type = 'radio';
                radioInput.id = optionId;
                radioInput.name = 'quizOption';
                radioInput.value = option;
                radioInput.className = 'hidden'; // Hide the actual radio button
                radioInput.onchange = handleOptionSelect;
                
                // 3. Create the label (the visible option)
                const label = document.createElement('label');
                label.htmlFor = optionId;
                label.textContent = option;
                label.className = 'option-label w-full p-4 bg-gray-100 text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-200 transition duration-150 ease-in-out block';

                div.appendChild(radioInput);
                div.appendChild(label);
                optionsContainerEl.appendChild(div);
            });
        }

        /**
         * Handles user selection of an option.
         */
        function handleOptionSelect(event) {
            userSelection = event.target.value;
            nextButton.disabled = false;
            // Update button text for the last question
            if (currentQuestionIndex === shuffledQuestions.length - 1) {
                nextButton.textContent = 'Submit Quiz';
            }
        }

        /**
         * Advances the quiz to the next question or displays results.
         */
        function handleNext() {
            // Check if an answer was selected
            if (userSelection === null) {
                messageBoxEl.textContent = 'Please select an answer before proceeding.';
                return;
            }
            messageBoxEl.textContent = ''; // Clear message

            // 1. Evaluate the answer
            const currentQ = shuffledQuestions[currentQuestionIndex];
            if (userSelection === currentQ.answer) {
                score++;
            }

            // 2. Advance index
            currentQuestionIndex++;

            // 3. Check if quiz is finished
            if (currentQuestionIndex < shuffledQuestions.length) {
                loadQuestion();
            } else {
                displayResults();
            }
        }

        /**
         * Displays the final score and results screen.
         */
        function displayResults() {
            quizContentEl.classList.add('hidden');
            resultsEl.classList.remove('hidden');
            
            finalScoreEl.textContent = `${score} / ${shuffledQuestions.length}`;
        }

        /**
         * Resets all state and restarts the quiz.
         */
        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userSelection = null;
            
            // Shuffle questions again for a fresh quiz experience
            shuffledQuestions = [...originalQuestions];
            shuffleArray(shuffledQuestions);

            // Toggle views
            resultsEl.classList.add('hidden');
            quizContentEl.classList.remove('hidden');

            loadQuestion();
        }

        // --- 3. Initialization ---
        window.onload = resetQuiz; // Start the quiz when the page loads
    </script>
</body>
</html>